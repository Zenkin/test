# Что это?
Класс python под названием Operator реализует взаимодействие с оператором (пользователем) через бота Telegram.
# Что умеет?
- ожидает подключения оператора
- защищается от несанкционированного подключения с помощью пароля
- создаёт заданные события
- отбрасывает фотографии с порогом ниже заданного
- отправляет фотографии оператору с заданной периодичностью по мере их поступления и распознавания
- предоставляет оператору возможность выбрать реакцию на фотографию
- отправляет последнюю фотографию оператору по запросу
# Как пользоваться?
1. В Telegram начать чат с ботом [@copteroperatorbot]( https://t.me/copteroperatorbot) или написать команду `/start`.
2. Ввести пароль.
3. Отправлять команды, получать рассылку, выбирать действия под фото.
4. Написать команду `/stop`.

*Бот обрабатывает все, но отвечает только на последнюю команду.*

|Команда|Описание|
|:---:|--------|
|/start|Подключиться к беспилотнику|
|/stop|Отключиться от беспилотника|
|фото|Получить последнюю обработанную фотографию|
|Начать мониторинг|Вывести фейковый текст взлёта|
|Закончить мониторинг|Вывести фейковый текст посадки|
|Отчёт|Сгенерировать фейковый отчёт по экологическим показателям окружающей среды и вывести его в формате pdf.|
# Как включить?
Класс нельзя включить, запустить или вызвать, т.к. он является невызываемым объектом, но можно интегрировать в свой код python:
1. Установите python на компьютер. Его можно скачать с [оффициального сайта](https://www.python.org).
2. Установите библиотеку *telepot* для python вашей версии. Пример установки с менеджером пакетов pip: `pip install telepot`.
3. Создайте или поместите файл скрипта (*.py) в рабочую папку. Например, script.py.
4. Запустите скрипт (script.py) через терминал, например: `py script.py` или `python3 script.py`.
## Фейковый бот
Скрипт [FakeExample](FakeExample.py) показывает работу бота без нейросети, анализа и отправки фотографий; требует наличия файлов [Operator](Operator.py) и [Text2pdf](text2pdf.py) в рабочей папке.
Запускается через терминал, например командой `py FakeExample.py`.
# Как настроить?
Настройка осуществляется через файл [config.json](config.json) в формате JSON.

|Параметр|Описание|
|:---:|--------|
|telegram.token|Идентификатор бота Telegram|
|telegram.proxy.url|Адрес прокси сервера|
|telegram.proxy.auth.username|Логин прокси сервера|
|telegram.proxy.auth.password|Пароль прокси сервера|
|password|Пароль бота|
|timeouts.detection|Минимальное время задержки между рассылкой фотографий|
|timeouts.decision|Время ожидания реакции оператора на событие до его автоматического игнорирования|
|alert_threshold|Минимальный порог распознования фотографий|
